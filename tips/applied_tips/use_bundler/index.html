<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>bundlerを利用する</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=0.5,user-scalable=yes,initial-scale=1.0">
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="generator" content="nanoc 3.6.3"> 
<link rel="stylesheet" href="/css/bootstrap.css">
<link rel="stylesheet" href="/css/responsive.css">
<link rel="stylesheet" href="/content/font/elusive-icons/css/elusive-webfont.min.css">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/style.css">
<!--[if lte IE 7]><script src="/content/font/elusive-icons/lte-ie7.js"></script><![endif]-->
<link rel="alternate" type="application/atom+xml" title="Atom" href="/feed.xml"> 
</head>

<body>
<header id="overview">
  <div class="container hero-unit">
    <h1>Japan nanoc Users&#039; Group</h1>
    <p class="lead">日本nanocユーザ会（Japan nanoc Users&#039; Group）は、日本のnanocユーザ有志のコミュニティです。日本でのnanocの普及と、nanocの日本語情報拡充を主な目的としています。</p>
  </div>
</header>

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span12" id="menu">
      <ul class="listview fluid">
        <li><a href="/tips/">
          <div class="icon">
            <i class="icon-compass-alt"></i>
          </div>
          <div class="data">
            <h4>Tips</h4>
            <p>Tipsを公開しています。ネタの提供大歓迎！。</p>
          </div></a>
        </li>
        <li><a href="/feed.xml">
          <div class="icon" style="color:orange;">
            <i class="icon-rss"></i>
          </div>
          <div class="data">
            <h4>Feed</h4>
            <p>News記事については、RSSリーダー等で更新の確認が出来ます。</p>
          </div></a>
        </li>
        <li><a href="/news_archives/1/">
          <div class="icon" style="color:#339900;">
             <i class="icon-globe-alt"></i>
          </div>
          <div class="data">
            <h4>News</h4>
            <p>各種お知らせや情報提供。</p>
          </div></a>
        </li>
        <li><a href="https://groups.google.com/d/forum/japan-nanoc-users-group">
          <div class="icon" style="color:#3366cc;">
            <i class="icon-group-alt"></i>
          </div>
          <div class="data">
            <h4>Group</h4>
            <p>コミュニケーション用のGoogleグループです。</p>
          </div></a>
        </li>
      </ul>
    </div>
  </div>
  <div class="row-fluid">
    <div class="span4">
      <div id="sidebar">
  <div class="well">
    <h2>Home</h2>
    <p><a href="/">Japan nanoc Users&#039; Group</a></p>
    <h2>About</h2>
    <p>このサイトは、各種のお知らせをするため及び情報源へのHUBとして設置しています。</p>
  </div>

  <div class="well">
    <h2>公式はこちら</h2>
      <p>本家のnanoc関連サイトです。</p>
        <ul class="">
          <li><a href="http://nanoc.ws/">nanoc</a><br />公式サイト（英語）です。</li>
          <li><a href="https://github.com/nanoc/nanoc">nanoc（GitHub）</a><br />nanocのソースを管理しているリポジトリです。</li>
          <li><a href="https://groups.google.com/forum/?fromgroups#!forum/nanoc">nanoc（Google Group）</a><br />nanocの作者や利用者のコミュニケーションの場です。（英語）</li>
        </ul>
  </div>
</div>
      
    </div>
    <div class="span8">
      
        <ul class="breadcrumb"><li><a href="/">トップ</a> <span class="divider">/</span></li><li><a href="/tips/">Tips</a>  <span class="divider">/</span></li><li><a href="/tips/applied_tips/">応用編</a>  <span class="divider">/</span></li><li class="active">bundlerを利用する</li></ul>
        
      
      <p>正確にはnanocの利用方法では無く、bundlerの利用方法です。nanocサイトを複数人、複数マシンで共有する場合にはbundlerを利用してgemを管理すると良い場合があります。</p>

<p>ここでは、一例・基本的な利用方法を紹介します。gemのインストール先を指定する–pathオプションは使いません。（動作確認をMac OSで行ってますので、Windowsで同じように動作するかは不明です。）</p>

<h2 id="section">準備</h2>

<p>はじめに、nanocのサイトを作成します。例えばhogehogeというサイトを作成します。</p>

<pre><code>nanoc create_site hogehoge
</code></pre>

<p>サイトが作成されたらhogehogeに移動します。</p>

<pre><code>ls hogehoge
</code></pre>

<p>まだbundlerをマシンにインストールしていなければ、次のコマンドでインストールします。</p>

<pre><code>gem install bundler
</code></pre>

<h2 id="section-1">初期化</h2>

<p>ここからbundlerの設定です。
まず、bundlerの利用に必要なGemfileを作成します。これはコマンドで作成することが出来ます。</p>

<pre><code>bundle init
</code></pre>

<p>次に、gemをインストールします。</p>

<pre><code>bundle install
</code></pre>

<p>後述しますが、Gemfileに設定されたgemをインストールしなければなりません。また、インストールしてあるgemであっても明示的にGemfileに利用するgemを設定しなければ鳴りません。逆に言えば設定していないgemは利用出来ません。このコマンドを利用するとGemfile.lockというファイルが作成されます。</p>

<h2 id="bundler">bundlerを使ってコマンドを実行する</h2>

<p>普段nanocのコマンドを利用するときは、例えばコンパイルをするとき、</p>

<pre><code>nanoc co
</code></pre>

<p>とコマンドを打ち込みます。
bundlerを利用するときは、</p>

<pre><code>bundle exec nanoc co
</code></pre>

<p>のように、「bundle exec」を頭につけます。
早速、上記のコマンドを使ってみましょう。
すると、普段出来ていたはずのコンパイルが出来ず、エラーが返ってくると思います。</p>

<p>これは、bundlerでnanocを利用する事を明示していないからです。</p>

<h2 id="gemfilegem">Gemfileに利用するgemを記載する</h2>

<p>先ほど作成したGemfileを開いてみます。</p>

<pre><code># A sample Gemfile
source "https://rubygems.org"

# gem "rails"
</code></pre>

<p>コメントアウトしてある「gem “rails”」のように、利用したいgemをこのような形で書き込めば良いのです。
それでは早速Gemfileに次の記述を追加して保存します。（source “http://rubygems.org”は削除しないようにします。）</p>

<pre><code>gem "nanoc"
</code></pre>

<p>Gemfileの変更が終わったら、再びbundle installコマンドを実行します。</p>

<pre><code>bundle install
</code></pre>

<p>もう一度コンパイルをしてみましょう。</p>

<pre><code>bundle exec nanoc co
</code></pre>

<p>今度はコンパイル出来ました。
nanoc自身は様々なgemに依存しているので、コンパイル以外のコマンドを利用しようとすると、必要なgemが無い事でエラーが出ることがあります。その時は、エラーメッセージを見て、上記手順のようにGemfileへの追記とインストールを行います。何か他のgemを利用したいときも上記の手順でgemを追加していきます。</p>

    </div>
  </div>
  <div class="row-fluid">
    <div class="span12">
      <footer class="well">
<p>generator:<a href="http://nanoc.ws/">nanoc</a></p>
<p>theme:<a href="http://wakamsha.github.io/greenmind/">GrennMind(based on twitter bootstrap)</a></p>
</footer>
<!-- end #footer -->
      
    </div>
  </div>
</div>
</body>
</html>
